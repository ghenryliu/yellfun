webpackJsonp([1],{"9kqN":function(t,e){},FzUZ:function(t,e){},LK2R:function(t,e){},NHnr:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=n("7+uW"),i={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("router-view")],1)},staticRenderFns:[]};var s=n("VU/8")({name:"App"},i,!1,function(t){n("xP07")},null,null).exports,o=n("/ocq"),c=[["粤","川","津","沪","渝","蒙","新","藏","宁","桂"],["浙","晋","冀","青","鲁","豫","苏","皖","闽"],["赣","湘","鄂","京","琼","甘","陕","贵"],["云","黑","吉","辽","港","澳"]],r=[["0","1","2","3","4","5","6","7","8","9"],["Q","W","E","R","T","Y","U","P","港","澳"],["A","S","D","F","G","H","J","K","L","学"],["Z","X","C","V","B","N","M","领","",""]],l=[["0","1","2","3","4","5","6","7","8","9"],["Q","W","E","R","T","Y","U","P","港","澳"],["A","S","D","F","G","H","J","K","L","学"],["Z","X","C","V","B","N","M","领","",""]],u=[["0","1","2","3","4","5","6","7","8","9"],["Q","W","E","R","T","Y","U","P","港","澳"],["A","S","D","F","G","H","J","K","L","学"],["Z","X","C","V","B","N","M","领","",""]],d={name:"keyboard",props:["carNoInputIndex"],data:function(){return{inputIndex:0}},computed:{unusable:function(){return 1==this.carNoInputIndex?"count ":2==this.carNoInputIndex?" special ":void 0},items:function(){return 0==this.carNoInputIndex?c:1==this.carNoInputIndex?r:2==this.carNoInputIndex?l:3==this.carNoInputIndex?u:void 0}},methods:{ondelete:function(){this.inputIndex=Math.max(0,this.inputIndex-1),this.$emit("delete")},onselect:function(t){if(1==this.carNoInputIndex)for(var e=0;e<10;e++)if(t==e)return;(1!=this.carNoInputIndex&&2!=this.carNoInputIndex||"港"!=t&&"澳"!=t&&"学"!=t&&"领"!=t)&&(3!=this.carNoInputIndex&&2!=this.carNoInputIndex||""!=t)&&(this.inputIndex>=8?this.inputIndex=8:this.inputIndex++,this.$emit("select",t))}}},h={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"keyboard"},[n("div",{staticClass:"container"},t._l(t.items,function(e,a){return n("div",{staticClass:"line ",class:t.unusable},[t._l(e,function(e){return n("span",{staticClass:"item",on:{click:function(n){t.onselect(e)}}},[t._v(" "+t._s(e))])}),t._v(" "),a==t.items.length-1?n("div",{staticClass:"delete",on:{click:t.ondelete}},[t._v(" ")]):t._e()],2)}))])},staticRenderFns:[]};var p=n("VU/8")(d,h,!1,function(t){n("rmP7")},"data-v-7b0c5050",null).exports,v={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("button",{class:{carNoInputBtn:t.carNoInputBtn,carSearch:t.carSearch,successColor:t.btnColor,detaiksBtn:t.detaiksBtn,addcarnobtn:t.addcarnobtn,delcarnobtn:t.delcarnobtn,cancelbtn:t.cancelbtn},on:{click:t.submit}},[t._v(t._s(t.btnText))])])},staticRenderFns:[]};var m=n("VU/8")({data:function(){return{}},props:["btnText","btnColor","detaiksBtn","carNoInputBtn","carSearch","addcarnobtn","delcarnobtn","cancelbtn"],methods:{submit:function(){this.$emit("submit")}}},v,!1,function(t){n("qpGh")},"data-v-fb4358a0",null).exports,f=n("Au9i"),g=n.n(f);function I(t){Object(f.Toast)({message:t,position:"middle",duration:3e3})}function _(){f.Indicator.open({text:"加载中",spinnerType:"fading-circle"})}function N(){f.Indicator.close()}var b=n("//Fk"),x=n.n(b),C=n("mtWM"),y=n.n(C),k=y.a.create({baseURL:window.configUrls.requestUrls,timeout:6e4});k.interceptors.request.use(function(t){return t},function(t){console.log(t),x.a.reject(t)}),k.interceptors.response.use(function(t){var e=t.data,n=e.message;e.obj;return"0"===e.resultCode?t.data:x.a.reject(n)},function(t){return console.log("err"+t),x.a.reject(t)});var S=k;function T(t){return S({url:"/jparking-service/carService/car/user/dkstatus",method:"post",data:t})}var w={name:"CarNoInput",components:{carnokeyboard:p,btn:m},data:function(){return{carType:["普通车","新能源车"],activeIndex:0,begininput:!1,count:7,carNo:"",plateColor:"BLUE",userId:localStorage.getItem("userId"),carNoList:[],newvalue:""}},created:function(){document.title="添加我的车牌",null==localStorage.getItem("carNo")?this.carNo="":(8==localStorage.getItem("carNo").length?this.activeIndex=1:this.activeIndex=0,this.carNo=localStorage.getItem("carNo"),this.begininput=!1)},watch:{activeIndex:function(t){1==t?(this.count=8,null!=localStorage.getItem("carNo")&&8==localStorage.getItem("carNo").length&&(this.carno=localStorage.getItem("carNo"))):(this.count=7,null!=localStorage.getItem("carNo")&&7==localStorage.getItem("carNo").length&&(this.carno=localStorage.getItem("carNo")))},carNo:function(){(7==this.count&&7==this.carNo.length||8==this.count&&8==this.carNo.length)&&(this.begininput=!1)}},methods:{showColor:function(t){this.activeIndex=t,this.carNo=8==this.carNo.length&&0==this.activeIndex?this.carNo.substr(0,this.carNo.length-1):this.carNo,console.log(8==this.carNo.length&&0==this.activeIndex?this.carNo.substr(0,this.carNo.length-1):this.carNo),console.log(this.carNo,"hehheh")},showKey:function(){this.begininput=!0},getchunkstyle:function(t){return 8==this.count?"chunk greencolor":"chunk noe"},deleteCarNo:function(){this.begininput=!0},isShowKey:function(){this.begininput=!1},selectletter:function(t){7==this.count&&7==this.carNo.length||8==this.count&&8==this.carNo.length||(this.carNo=this.carNo+t)},deleteletter:function(){this.carNo=this.carNo.substr(0,0==this.carNo.length?0:this.carNo.length-1)},getLetter:function(t){return t>=this.carNo.length?"":this.carNo[t]},submit:function(){var t,e=this;7!=this.carNo.length&&0==this.activeIndex||8!=this.carNo.length&&1==this.activeIndex?I("车牌格式输入有误"):(_(),(t={carNo:this.carNo,plateColor:this.plateColor,userId:this.userId},S({url:"/jparking-service/car/add_car",method:"post",data:t})).then(function(t){N(),null!=localStorage.getItem("carNoList")&&(e.carNoList=localStorage.getItem("carNoList").split(",")),localStorage.setItem("carNo",e.carNo),e.carNoList.includes(e.carNo)||e.carNoList.push(e.carno),localStorage.setItem("carNoList",e.carNoList);var n=t.userId,a=t.carNo,i=t.plateColor;e.$router.push({path:"carManagement",query:{carNo:a,userId:n,plateColor:i}})}).catch(function(t){I(t),N()}))}},computed:{carNoInputIndex:function(){return 0==this.carNo.length?0:1==this.carNo.length?1:0==this.activeIndex&&6==this.carNo.length||1==this.activeIndex&&7==this.carNo.length?3:2}}},L={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"main"},[t.begininput?n("div",{staticClass:"isshowkey",on:{click:t.isShowKey}}):t._e(),t._v(" "),n("div",{staticClass:"top"}),t._v(" "),n("div",{staticClass:"contentcar"},[n("div",{staticClass:"cartitle"},[n("ul",t._l(t.carType,function(e,a){return n("li",{class:{cartype:0==t.activeIndex,newcartype:1==t.activeIndex},on:{click:function(e){t.showColor(a)}}},[t._v("\n          "+t._s(e)+"\n        ")])}))]),t._v(" "),n("div",{staticClass:"inputitem",on:{click:t.showKey}},t._l(t.count,function(e,a){return n("div",{key:e,class:t.getchunkstyle(e-1),on:{click:t.deleteCarNo}},[t._v("\n        "+t._s(t.getLetter(e-1))+"\n        ")])})),t._v(" "),n("p",[t._v("请正确填写，以便我们获取信息后为您提供服务")])]),t._v(" "),n("btn",{attrs:{btnText:"添加我的车牌",carNoInputBtn:"true"},on:{submit:t.submit}}),t._v(" "),n("carnokeyboard",{directives:[{name:"show",rawName:"v-show",value:t.begininput,expression:"begininput"}],attrs:{carNoInputIndex:t.carNoInputIndex},on:{select:t.selectletter,delete:t.deleteletter}})],1)},staticRenderFns:[]};var $=n("VU/8")(w,L,!1,function(t){n("FzUZ")},"data-v-a0088310",null).exports,M={name:"carManagement",data:function(){return{displayComfirmMsg:!1,displayNoFeelPayMsg:!1,actions:[],sheetVisible:!1,userId:localStorage.getItem("userId"),sign:"",carInfo:[],carId:"",carNo:"",openFlag:"0"}},components:{btn:m},created:function(){document.title="车牌绑定",_(),this.select(this.userId)},mounted:function(){this.actions=[{name:"删除",method:this.delCarNo}]},methods:{openActionSheet:function(t){this.sheetVisible=!0,this.carNo=this.carInfo[t].carNo,this.actions[0].name=this.actions[0].name.slice(0,2)+this.carNo,this.carId=this.carInfo[t].carId},delCarNo:function(){this.displayComfirmMsg=!0},comfirmDel:function(){var t,e=this;this.displayComfirmMsg=!1,_(),this.carInfo,this.carInfo.splice(this.index,1),(t={carId:this.carId},S({url:"/jparking-service/car/delete_user_car",method:"post",data:t})).then(function(t){N(),e.select(e.userId)}).catch(function(t){N(),I(t)})},select:function(t){var e=this;T({userId:t}).then(function(t){if(N(),null==t.obj)I("当前无车辆信息,请添加");else{var n=t.obj,a=t.vehiclePark;e.sign=n.sign,e.carInfo=a}}).catch(function(t){N(),I(t)})},cancelDel:function(){this.sheetVisible=!1,this.displayComfirmMsg=!1},cancelBinding:function(){this.displayNoFeelPayMsg=!1},switchBinding:function(t){var e=this;this.carId=this.carInfo[t].carId,console.log(this.carId),_(),T({userId:this.userId}).then(function(n){N();var a=n.obj;e.sign=a.sign,console.log(e.sign),1==e.sign?(0==e.carInfo[t].openFlag?e.carInfo[t].openFlag=1:e.carInfo[t].openFlag=0,_(),function(t){return S({url:"/jparking-service/isv/user/car/opendk",method:"post",data:t})}({openFlag:e.carInfo[t].openFlag,userCarId:e.carId,userId:e.userId}).then(function(t){console.log(t),N()}).catch(function(t){I(t)})):0==e.sign&&1==e.carInfo[t].openFlag?e.displayNoFeelPayMsg=!1:e.displayNoFeelPayMsg=!0}).catch(function(t){N(),I(t)})},addMyCarNo:function(){this.$router.push({path:"carNoInput"})},binding:function(){this.$router.push({path:"/userInfo"})}}},F={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"main"},[n("div",{staticClass:"carlist"},t._l(t.carInfo,function(e,a){return n("div",{staticClass:"carno"},[n("div",[n("p",[n("span"),t._v(t._s(e.carNo.slice(0,2,"-")+"-"+e.carNo.slice(2))+"\n        ")]),t._v(" "),n("p",[t._v("无感支付"),n("span",{class:{notbinding:0==e.openFlag,binding:1==e.openFlag},on:{click:function(e){t.switchBinding(a)}}})])]),t._v(" "),n("p",[n("span",{on:{click:function(e){t.openActionSheet(a)}}})])])})),t._v(" "),n("btn",{attrs:{btnText:"添加我的车牌",addcarnobtn:"true"},on:{submit:t.addMyCarNo}}),t._v(" "),n("mt-actionsheet",{attrs:{actions:t.actions},model:{value:t.sheetVisible,callback:function(e){t.sheetVisible=e},expression:"sheetVisible"}}),t._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:t.displayComfirmMsg,expression:"displayComfirmMsg"}],staticClass:"comfirmmsg"},[n("div",[n("p",[t._v("您确定要删除"+t._s(t.carNo)+"吗?")]),t._v(" "),n("p",[n("span",{on:{click:t.comfirmDel}},[t._v("确定")]),t._v(" "),n("span",{on:{click:t.cancelDel}},[t._v("再想想")])])])]),t._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:t.displayNoFeelPayMsg,expression:"displayNoFeelPayMsg"}]},[n("div",{staticClass:"nofeelpaymsg"},[t._m(0),t._v(" "),n("p",[n("span",{on:{click:t.cancelBinding}},[t._v("取消")]),t._v(" "),n("span",{on:{click:t.binding}},[t._v("去开通")])])])])],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("p",[this._v("温馨提示")]),this._v(" "),e("p",[this._v("您还没有开通无感支付，开通后可打开车辆无感支付开关。")])])}]};var V=n("VU/8")(M,F,!1,function(t){n("dLLI")},"data-v-6a00cee7",null).exports;function U(t){var e=new RegExp("(^|&)"+t+"=([^&]*)(&|$)","i"),n=window.location.search.substr(1).match(e);return null!=n?decodeURI(n[2]):null}document.title="手机绑定";var P={data:function(){return{phone:"",code:"",content:"获取验证码",totalTime:60,canClick:!0,key:""}},mounted:function(){this.getKey()},methods:{send:function(){if(!/^1[3|4|5|7|8][0-9]\d{8}$/.test(this.phone))return I("手机号格式错误"),this.canClick=!0,!1;this.countDown()},login:function(){/^1[3|4|5|7|8][0-9]\d{8}$/.test(this.phone)?4==this.code.trim().length?this.log():I("验证码格式错误"):I("手机号格式错误")},countDown:function(){var t=this;if(this.canClick){this.canClick=!1,this.content="重新发送("+this.totalTime+")";var e=window.setInterval(function(){t.totalTime--,t.content="重新发送("+t.totalTime+")",t.totalTime<0&&(window.clearInterval(e),t.content="重新发送验证码",t.totalTime=60,t.canClick=!0)},1e3);this.getAskForSms()}},getKey:function(){var t,e=this;(t={verifyType:"LOGIN"},S({url:"/jparking-service/verify/generate/key/image",method:"post",data:t})).then(function(t){console.log(t.obj.key),e.key=t.obj.key}).catch(function(t){I(t)})},getAskForSms:function(){var t;(t={key:this.key,telephone:this.phone,verifyType:"LOGINTEL",captchaCode:""},S({url:"/jparking-service/pushmsg/push/msg",method:"post",data:t})).then(function(t){}).catch(function(t){I(t)})},log:function(){var t,e=this;(t={telephone:this.phone,msgCode:this.code,source:"W3",openId:localStorage.getItem("openId"),userType:"WX_JTC",verifyType:"LOGINTEL"},S({url:"/jparking-service/user/sms/h5login",method:"post",data:t})).then(function(t){e.$router.push({path:"/"})}).catch(function(t){I(t)})}}},E={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"main"},[n("h1",{staticClass:"login"},[t._v("欢迎登陆")]),t._v(" "),n("div",{staticClass:"phone"},[n("p",[n("span",{staticClass:"phone-span"},[t._v("手机号码")]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.phone,expression:"phone"}],attrs:{type:"number",placeholder:"请输入"},domProps:{value:t.phone},on:{input:function(e){e.target.composing||(t.phone=e.target.value)}}})]),t._v(" "),n("p",{staticClass:"img"})]),t._v(" "),n("div",{staticClass:"code"},[n("p",[n("span",{staticClass:"code-span"},[t._v("验证码")]),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.code,expression:"code"}],staticClass:"code-input",attrs:{type:"text",maxlength:"6",placeholder:"请输入"},domProps:{value:t.code},on:{input:function(e){e.target.composing||(t.code=e.target.value)}}})]),t._v(" "),n("p",{staticClass:"code-text",on:{click:t.send}},[t._v(t._s(t.content))])]),t._v(" "),n("button",{on:{click:t.login}},[t._v("登录")]),t._v(" "),t._m(0)])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"text"},[this._v("\n    点击登录，即表示已阅读并 "),e("span",{staticClass:"text-span"},[this._v("同意《捷停车服务协议》")])])}]};var j=n("VU/8")(P,E,!1,function(t){n("bWL4")},"data-v-00995954",null).exports;document.title="无感支付";var B={components:{btnbox:m},data:function(){return{text:"<span>《捷停车无感支付协议》</span>",sheetVisible:!1,actions:[],closePay:'<span class="closePay">您确定要关闭无感支付服务?</span>',openType:0,userId:"",channelId:""}},mounted:function(){var t=U("clientId"),e=U("USER_ID"),n=U("TEL");t?(localStorage.setItem("openId",t),e&&n?(localStorage.setItem("tel",n),localStorage.setItem("userId",e),this.SelectSign(),this.actions=[{name:"关闭无感支付",method:this.pay}]):this.$router.push({path:"bindPhone"})):window.location.href=window.configUrls.permissionUrl+"?appType=WX_JTC&url="+window.configUrls.mainUrl},methods:{submit:function(){this.$router.push({path:"carManagement"})},open:function(){var t=this;1===this.openType?this.sheetVisible=!0:f.MessageBox.confirm("去开通即默认同意 "+this.text,"温馨提示").then(function(e){t.$router.push({path:"userinfo"})}).catch(function(t){})},pay:function(){var t=this;f.MessageBox.confirm(""+this.closePay,"",{confirmButtonText:"再想想",cancelButtonText:"确定"}).then(function(t){}).catch(function(e){t.closeSign()})},stopCar:function(){this.$router.push({path:"stopCarList"})},SelectSign:function(){var t,e=this;(t={userId:localStorage.getItem("userId")},S({url:"/jparking-service/isv/user/query/sign",method:"post",data:t})).then(function(t){JSON.parse(t.obj).forEach(function(t){if("JSJK_CUP"==t.channelId)return"NORMAL"==t.status&&(e.openType=1,f.MessageBox.confirm("您已开通无感支付，可设置无感支付车辆","温馨提示",{confirmButtonText:"去设置"}).then(function(t){e.$router.push({path:"carManagement"})}).catch(function(t){})),e.userId=t.userId,void(e.channelId=t.channelId)})}).catch(function(t){})},closeSign:function(){var t;(t={userId:localStorage.getItem("userId"),channelId:"JSJK_CUP"},S({url:"/jparking-service/isv/user/sign/cancel",method:"post",data:t})).then(function(t){console.log(t)}).catch(function(t){I(t)})}}},R={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"main"},[n("div",{staticClass:"content"},[t._m(0),t._v(" "),n("div",{staticClass:"pay"},[n("div",{staticClass:"top"},[t._m(1),t._v(" "),n("div",{staticClass:"right",on:{click:t.open}},[n("p",{staticClass:"pay-open",class:{openType:1==t.openType}},[t._v(t._s(1==t.openType?"已开通":"去开通"))])])]),t._v(" "),n("div",{staticClass:"bottom",on:{click:t.stopCar}},[n("p",{staticClass:"bottom-text"},[t._v("查看支持停车场")]),t._v(" "),n("p",{staticClass:"bottom-img"})])]),t._v(" "),n("div",{staticClass:"shuming"},[t._v("\n      您开启无感支付后，离场时自动抬杠出场并自动扣除本次停车费用\n    ")])]),t._v(" "),n("div",{staticClass:"btn"},[n("btnbox",{attrs:{btnText:"管理我的车牌"},on:{submit:t.submit}})],1),t._v(" "),n("mt-actionsheet",{attrs:{id:"mt",actions:t.actions},model:{value:t.sheetVisible,callback:function(e){t.sheetVisible=e},expression:"sheetVisible"}})],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"text"},[this._v("开通无感支付 "),e("span"),this._v(" 享受快捷出场")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"left"},[e("p",{staticClass:"pay-img"}),this._v(" "),e("p",{staticClass:"pay-text"},[this._v("银联无感支付")])])}]};var z=n("VU/8")(B,R,!1,function(t){n("9kqN")},"data-v-3d6b1105",null).exports,J={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"main"},[n("div",{staticClass:"content"},[n("span",{staticClass:"img"}),t._v(" "),n("input",{ref:"input",attrs:{type:"text",placeholder:"请输入停车场名称"},domProps:{value:t.value},on:{input:function(e){t.$emit("input",e.target.value)}}}),t._v(" "),n("span",{staticClass:"search",on:{click:t.search}},[t._v("搜索")])])])},staticRenderFns:[]};var K={components:{search:n("VU/8")({data:function(){return{}},props:["value"],methods:{search:function(){this.$emit("search")}}},J,!1,function(t){n("YnOG")},"data-v-ea742970",null).exports},data:function(){return{carLList:{},result:[],searchValue:"",isAndroid:!1,nodata:!1,loading:!1,pageSize:20,pageIndex:1,msgList:[],allLoaded:!1,topStatus:"",networkerror:!1,isRequest:!1,size:0}},watch:{},mounted:function(){document.title="无感支付",this.loadTop()},methods:{reload:function(){_(),this.loadTop()},loadMore:function(){var t=this;this.msgList.length<this.pageSize+this.size?this.loading=!1:(this.loading=!0,this.pageIndex+=1,this.getList(this.pageIndex,this.pageSize,this.searchValue).then(function(e){if(!e)return t.allLoaded=!1,void(t.loading=!1);t.msgList=t.msgList.concat(e),t.size+=t.pageSize,t.loading=!1}).catch(function(e){t.networkerror=!0}))},loadTop:function(){var t=this;console.log("上"),_(),this.networkerror=!1,this.nodata=!1,this.pageIndex=1,this.getList(this.pageIndex,this.pageSize,this.searchValue).then(function(e){t.networkerror=!1,console.log(e),console.log(e.length),t.msgList=e,t.allLoaded=!0,t.size=0,t.$refs.loadmore&&t.$refs.loadmore.onTopLoaded(),0==t.msgList.length&&(t.nodata=!0)}).catch(function(e){I(e),t.networkerror=!0,t.$refs.loadmore&&t.$refs.loadmore.onTopLoaded()}).finally(function(){N()})},handleTopChange:function(t){this.topStatus=t},getList:function(t,e,n){var a={dkChannel:"JSJK_CUP",pageIndex:t,pageSize:e,parkName:n};return new x.a(function(t,e){(function(t){return S({url:"/jparking-service/order/dk/payType/parkInfo",method:"post",data:t})})(a).then(function(e){N(),t(e.obj)}).catch(function(t){e(t)})})},search:function(){var t=this;_(),this.pageIndex=1,this.getList(this.pageIndex,this.pageSize,this.searchValue).then(function(e){N(),console.log(e),e?(t.msgList=e,t.nodata=!1):t.nodata=!0}).catch(function(t){N(),I(t)})}}},A={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"main"},[n("search",{on:{search:t.search},model:{value:t.searchValue,callback:function(e){t.searchValue=e},expression:"searchValue"}}),t._v(" "),n("p",{staticClass:"topnull"}),t._v(" "),t.nodata?t._e():n("div",{},[n("mt-loadmore",{ref:"loadmore",attrs:{"top-method":t.loadTop},on:{"top-status-change":t.handleTopChange}},[n("div",{directives:[{name:"infinite-scroll",rawName:"v-infinite-scroll",value:t.loadMore,expression:"loadMore"}],attrs:{"infinite-scroll-disabled":"loading","infinite-scroll-immediate-check":"true","infinite-scroll-distance":"50","auto-fill":"false"}},[n("div",{staticClass:"content"},t._l(t.msgList,function(e,a){return n("div",{key:a,staticClass:"text"},[t._v("\n            "+t._s(e.parkName)+"\n          ")])}))]),t._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:t.loading,expression:"loading"}],staticClass:"page-infinite-loading"},[n("div",[n("mt-spinner",{attrs:{type:"fading-circle"}})],1),t._v(" "),n("span",[t._v("加载中...")])])])],1),t._v(" "),t.nodata?n("div",{staticClass:"nodata",on:{click:t.reload}},[n("div",{staticClass:"simile"}),t._v(" "),n("div",[t._v("亲，暂无任何消息")])]):t._e()],1)},staticRenderFns:[]};var D=n("VU/8")(K,A,!1,function(t){n("bO2X")},"data-v-87ab63ee",null).exports,O={components:{btnbox:m},data:function(){return{}},methods:{out:function(){this.$router.push({path:"/"})}}},q={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"main"},[e("div",{staticClass:"img"}),this._v(" "),e("div",{staticClass:"text"},[this._v("银联无感支付开通成功")]),this._v(" "),e("div",{staticClass:"btn"},[e("btnbox",{attrs:{btnText:"完成"},on:{submit:this.out}})],1)])},staticRenderFns:[]};var G=n("VU/8")(O,q,!1,function(t){n("dphz")},"data-v-a1a81d62",null).exports,H={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"box"},[n("div",{staticClass:"content"},[n("input",{ref:"input",attrs:{type:t.inputType,placeholder:t.placeholderTest,readonly:t.readonly},domProps:{value:t.value},on:{input:function(e){t.$emit("input",e.target.value)}}})])])},staticRenderFns:[]};var W=n("VU/8")({name:"input-box",props:["value","isRight","inputType","readonly","placeholderTest"],data:function(){return{}}},H,!1,function(t){n("LK2R")},"data-v-076bf6de",null).exports;document.title="开启联银无感支付";var X={components:{indexBox:W,btnBox:m},data:function(){return{name:"",phone:"",cardNo:"",certNo:"",htmlData:""}},watch:{cardNo:function(t){this.cardNo=t.replace(/\s/g,"").replace(/(.{4})/g,"$1 ")}},mounted:function(){},methods:{next:function(){this.isName(this.name)?!function(t){var e=!0;if(t&&/^[1-9][0-9]{5}(19[0-9]{2}|200[0-9]|2010)(0[1-9]|1[0-2])(0[1-9]|[12][0-9]|3[01])[0-9]{3}[0-9xX]$/i.test(t))if({11:"北京",12:"天津",13:"河北",14:"山西",15:"内蒙古",21:"辽宁",22:"吉林",23:"黑龙江 ",31:"上海",32:"江苏",33:"浙江",34:"安徽",35:"福建",36:"江西",37:"山东",41:"河南",42:"湖北 ",43:"湖南",44:"广东",45:"广西",46:"海南",50:"重庆",51:"四川",52:"贵州",53:"云南",54:"西藏 ",61:"陕西",62:"甘肃",63:"青海",64:"宁夏",65:"新疆",71:"台湾",81:"香港",82:"澳门",91:"国外 "}[t.substr(0,2)]){if(18==t.length){t=t.split("");for(var n=[7,9,10,5,8,4,2,1,6,3,7,9,10,5,8,4,2],a=[1,0,"X",9,8,7,6,5,4,3,2],i=0,s=0;s<17;s++)i+=t[s]*n[s];a[i%11]!=t[17]&&(e=!1)}}else e=!1;else e=!1;return e}(this.certNo)?I("身份证不正确"):this.isValidMobile(this.phone)?this.cardNo.trim().length>0?(_(),this.openSign()):I("银行卡号不正确"):I("手机号不正确"):I("姓名不正确")},isName:function(t){return t.length>2&&t.length<6},isValidMobile:function(t){return/^1[3|4|5|7|8][0-9]\d{8}$/.test(t)},openSign:function(){var t,e=this;(t={channelId:"JSJK_CUP",userId:localStorage.getItem("userId"),userMobile:localStorage.getItem("tel"),appType:"H5",bankMobile:this.phone,cardNo:this.cardNo.replace(/\s+/g,""),certType:"1",userName:this.name,certNo:this.certNo,callbackUrl:""+window.configUrls.mainUrl},S({url:"/jparking-service/isv/user/sign",method:"post",data:t})).then(function(t){N();var n=JSON.parse(t.obj);console.log(n.signHtml),e.htmlData=n.signHtml,document.getElementsByTagName("html")[0].innerHTML=n.signHtml,document.getElementById("pay_form").submit()}).catch(function(t){N(),I(t)})}}},Y={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"main"},[n("index-box",{attrs:{placeholderTest:"请填写用户姓名"},model:{value:t.name,callback:function(e){t.name=e},expression:"name"}}),t._v(" "),n("index-box",{attrs:{placeholderTest:"请填写身份证号码"},model:{value:t.certNo,callback:function(e){t.certNo=e},expression:"certNo"}}),t._v(" "),n("index-box",{attrs:{placeholderTest:"请填写银行预留手机号",inputType:"number"},model:{value:t.phone,callback:function(e){t.phone=e},expression:"phone"}}),t._v(" "),n("index-box",{attrs:{placeholderTest:"请填写银行卡号"},model:{value:t.cardNo,callback:function(e){t.cardNo=e},expression:"cardNo"}}),t._v(" "),n("div",{staticClass:"btn"},[n("btn-box",{attrs:{btnText:"下一步"},on:{submit:t.next}})],1)],1)},staticRenderFns:[]};var Z=n("VU/8")(X,Y,!1,function(t){n("iFrv")},"data-v-1fa18c29",null).exports;a.default.use(o.a);var Q=new o.a({mode:"history",base:"/wgzf/",routes:[{path:"/userinfo",name:"userinfo",component:Z},{path:"/bindPhone",name:"bindPhone",component:j},{path:"/",name:"pay",component:z},{path:"/stopCarList",name:"stopCarList",component:D},{path:"/success",name:"success",component:G},{path:"/carNoInput",name:"carNoInput",component:$},{path:"/carManagement",name:"carManagement",component:V}]}),tt=(n("d8/S"),n("v5o6")),et=n.n(tt);a.default.use(g.a),a.default.prototype.$axios=y.a,et.a.attach(document.body),a.default.config.productionTip=!1,new a.default({el:"#app",router:Q,components:{App:s},template:"<App/>"})},YnOG:function(t,e){},bO2X:function(t,e){},bWL4:function(t,e){},"d8/S":function(t,e){},dLLI:function(t,e){},dphz:function(t,e){},iFrv:function(t,e){},qpGh:function(t,e){},rmP7:function(t,e){},xP07:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.70824c9ca33ecb56a666.js.map