webpackJsonp([1],{"+fD4":function(t,e){},"9YiN":function(t,e){},"JQB+":function(t,e){},LLyn:function(t,e){},LifZ:function(t,e){},NHnr:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=n("7+uW"),i={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("router-view")],1)},staticRenderFns:[]};var s=n("VU/8")({name:"App"},i,!1,function(t){n("JQB+")},null,null).exports,o=n("/ocq"),r=n("lHA8"),c=n.n(r),u=n("c/Tr"),l=n.n(u),h=[["黑","吉","辽","沪","渝","蒙","新","藏","宁","桂"],["浙","晋","冀","青","鲁","豫","苏","皖","闽"],["赣","湘","鄂","京","琼","甘","陕","贵"],["云","粤","川","津","港","澳"]],d=[["0","1","2","3","4","5","6","7","8","9"],["Q","W","E","R","T","Y","U","P","港","澳"],["A","S","D","F","G","H","J","K","L","学"],["Z","X","C","V","B","N","M","领","",""]],p=[["0","1","2","3","4","5","6","7","8","9"],["Q","W","E","R","T","Y","U","P","港","澳"],["A","S","D","F","G","H","J","K","L","学"],["Z","X","C","V","B","N","M","领","",""]],v=[["0","1","2","3","4","5","6","7","8","9"],["Q","W","E","R","T","Y","U","P","港","澳"],["A","S","D","F","G","H","J","K","L","学"],["Z","X","C","V","B","N","M","领","",""]],f={name:"keyboard",props:["carNoInputIndex"],data:function(){return{inputIndex:0}},computed:{unusable:function(){return 1==this.carNoInputIndex?"count ":2==this.carNoInputIndex?" special ":void 0},items:function(){return 0==this.carNoInputIndex?h:1==this.carNoInputIndex?d:2==this.carNoInputIndex?p:3==this.carNoInputIndex?v:void 0}},methods:{ondelete:function(){this.inputIndex=Math.max(0,this.inputIndex-1),this.$emit("delete")},onselect:function(t){if(1==this.carNoInputIndex)for(var e=0;e<10;e++)if(t==e)return;(1!=this.carNoInputIndex&&2!=this.carNoInputIndex||"港"!=t&&"澳"!=t&&"学"!=t&&"领"!=t)&&(3!=this.carNoInputIndex&&2!=this.carNoInputIndex||""!=t)&&(this.inputIndex>=8?this.inputIndex=8:this.inputIndex++,this.$emit("select",t))}}},m={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"keyboard"},[n("div",{staticClass:"container"},t._l(t.items,function(e,a){return n("div",{staticClass:"line ",class:t.unusable},[t._l(e,function(e){return n("span",{staticClass:"item",on:{click:function(n){t.onselect(e)}}},[t._v(" "+t._s(e))])}),t._v(" "),a==t.items.length-1?n("div",{staticClass:"delete",on:{click:t.ondelete}},[t._v(" ")]):t._e()],2)}))])},staticRenderFns:[]};var _=n("VU/8")(f,m,!1,function(t){n("+fD4")},"data-v-247659d8",null).exports,y={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"user"},[e("p",[this._v("用户须知：")]),this._v(" "),e("div",{staticClass:"con"},[e("p",[this._v("1.欧亚汇集停车费为：1小时之内(含1小时)5元，超过1小时3元，每天(24小时)封顶50元。")]),this._v(" "),e("p",[this._v("2.使用欧亚汇集贵宾卡或店内消费可抵扣停车时长。")]),this._v(" "),e("p",[this._v("3.缴费完成后请在20分钟内离场，超时将重新计费。")])])])}]};var g=n("VU/8")(null,y,!1,function(t){n("nqe1")},"data-v-ad95513e",null).exports,N={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("button",{on:{click:this.submit}},[this._v(this._s(this.btnText))])])},staticRenderFns:[]};var I=n("VU/8")({data:function(){return{}},props:["btnText"],methods:{submit:function(){this.$emit("submit")}}},N,!1,function(t){n("LifZ")},"data-v-baaf0264",null).exports,x=n("Au9i"),w=n.n(x);function b(t){Object(x.Toast)({message:t,position:"middle",duration:2e3})}function C(){x.Indicator.open({text:"加载中...",spinnerType:"fading-circle"})}function T(){x.Indicator.close()}var S=n("//Fk"),L=n.n(S),k=n("mtWM"),F=n.n(k);console.log(window.configUrls);var $=F.a.create({baseURL:window.configUrls.requestUrls,timeout:6e4});$.interceptors.request.use(function(t){return t},function(t){L.a.reject(t)}),$.interceptors.response.use(function(t){var e=t.data,n=e.code,a=e.msg,i=e.data;return"0"==n?i:L.a.reject(a)},function(t){return console.log("err"+t),L.a.reject(t)});var R=$;var U={name:"CarNoInput",components:{Carnokeyboard:_,userNotice:g,btn:I},data:function(){return{carType:[{cartype:"普通车"},{cartype:"新能源车"}],activeIndex:0,carno:"",enable:!1,begininput:!1,count:7,newresourcecar:!1,specialCar:!1,selectSpecial:!1,specialCarNo:"",carNoList:[],carNoListIndex:-1,showCarNoList:!1}},created:function(){null==localStorage.getItem("carNo")?(this.carno="吉A",this.begininput=!0):(8==localStorage.getItem("carNo").length?this.activeIndex=1:this.activeIndex=0,this.carno=localStorage.getItem("carNo"),this.begininput=!1)},mounted:function(){},watch:{activeIndex:function(t){this.count=1==t?8:7},carno:function(t){7==this.count&&7==t.length||8==this.count&&8==t.length?this.begininput=!1:(this.carNoListIndex=-1,this.showCarNoList=!1)},newresourcecar:function(t){this.count=this.newresourcecar?8:7}},methods:{showKey:function(){this.begininput=!0},isShowKey:function(){this.begininput=!1},submit:function(){var t,e=this,n="";7!=(n=0==this.activeIndex?this.carno.slice(0,7):this.carno).length&&0==this.activeIndex||8!=n.length&&1==this.activeIndex?b("车牌格式输入有误"):(console.log(n),C(),(t={carNo:n},R({url:"carnopay_inputcarno",method:"post",params:t})).then(function(t){T(),null!=localStorage.getItem("carNoList")&&(e.carNoList=localStorage.getItem("carNoList").split(",")),localStorage.setItem("carNo",n),e.carNoList.includes(n)||e.carNoList.push(n),localStorage.setItem("carNoList",e.carNoList),e.$router.push({path:"payDetails",query:{orderNo:t.orderNo}})}).catch(function(t){T(),b(t)}))},selectCarNo:function(t,e){8==t.length?(this.showCarNoList=!0,this.activeIndex=1,this.begininput=!1):this.activeIndex=0,this.begininput=!1,this.showCarNoList=!0,this.carno=t,this.carNoListIndex=e},showColor:function(t){this.activeIndex=t},deleteCarNo:function(){this.begininput=!0},getLetter:function(t){return t>=this.carno.length?"":this.carno[t]},getchunkstyle:function(t){return 8==this.count?"chunk greencolor":"chunk noe"},deleteletter:function(){this.carno=this.carno.substr(0,0==this.carno.length?0:this.carno.length-1)},selectletter:function(t){7==this.count&&7==this.carno.length||8==this.count&&8==this.carno.length||(this.carno=this.carno+t)}},computed:{list:function(){if(null!=localStorage.getItem("carNoList")){var t=localStorage.getItem("carNoList").split(",");return l()(new c.a(t.length>3?t.slice(-3):t)).reverse()}return[]},carNoInputIndex:function(){return 0==this.carno.length?0:1==this.carno.length?1:0==this.activeIndex&&6==this.carno.length||1==this.activeIndex&&7==this.carno.length?3:2}}},j={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"main"},[t.begininput?n("div",{staticClass:"isshowkey",on:{click:t.isShowKey}}):t._e(),t._v(" "),n("div",{staticClass:"content"},[n("div",{staticClass:"top"}),t._v(" "),t._m(0),t._v(" "),n("div",{staticClass:"contenttext"},[n("div",{staticClass:"cartitle"},[n("ul",t._l(t.carType,function(e,a){return n("li",{class:{carType:0==t.activeIndex,newcarType:1==t.activeIndex},on:{click:function(e){t.showColor(a)}}},[t._v(t._s(e.cartype)+"\n          ")])}))]),t._v(" "),n("div",{staticClass:"inputitem",on:{click:t.showKey}},t._l(t.count,function(e,a){return n("div",{key:e,class:t.getchunkstyle(e-1),on:{click:t.deleteCarNo}},[t._v("\n          "+t._s(t.getLetter(e-1))+"\n        ")])})),t._v(" "),n("div",{staticClass:"carlist"},[n("ul",t._l(t.list,function(e,a){return n("li",{class:{licarnolist:t.carNoListIndex===a},on:{click:function(n){t.selectCarNo(e,a)}}},[t._v(t._s(e)+"\n            "),n("span",{directives:[{name:"show",rawName:"v-show",value:t.showCarNoList,expression:"showCarNoList"}],class:{carnolist:t.carNoListIndex===a}})])}))])]),t._v(" "),n("btn",{attrs:{btnText:"车牌缴费"},on:{submit:t.submit}}),t._v(" "),n("user-notice")],1),t._v(" "),n("carnokeyboard",{directives:[{name:"show",rawName:"v-show",value:t.begininput,expression:"begininput"}],attrs:{carNoInputIndex:t.carNoInputIndex},on:{select:t.selectletter,delete:t.deleteletter}})],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("header",[e("p",[e("span"),this._v("欧亚汇集")]),this._v(" "),e("p")])}]};var E=n("VU/8")(U,j,!1,function(t){n("LLyn")},"data-v-4d93877b",null).exports;var A=n("7t+N"),D=n.n(A);new P;function P(){this.host="http://hjtc.oywanhao.com/parking/"}P.prototype.serverCallQueryCar=function(t,e,n){var a=this.host+"/parkpay/carnopay_inputcarno?carNo="+t;this.doAjax(a,null,e,n)},P.prototype.serverCallParkingOrder=function(t,e,n){var a=this.host+"/parkpay/createParkingOrder?carNo="+t;this.doAjax(a,null,e,n)},P.prototype.payOrderWithWx=function(t,e,n){var a=this.host+"prepay?orderNo="+t;this.doAjax(a,null,e,n)},P.prototype.alipayurl=function(t){return this.host+"aliWapPay?orderNo="+t},P.prototype.doAjax=function(t,e,n,a){!function(t,e,n,a){console.log(t),D.a.get(t,e,function(t){n&&n(t)})}(t,e,n)};var O={components:{btn:I},data:function(){return{startTime:"",endTime:"",orderNo:"",carNO:localStorage.getItem("carNo"),serviceFee:0,totalFee:0,couponValue:0}},mounted:function(){var t,e=this;C(),this.orderNo=this.$route.query.orderNo,(t={orderNo:this.orderNo},R({url:"queParkingOrder",method:"post",params:t})).then(function(t){e.startTime=t.startTime,e.endTime=t.endTime,e.serviceFee=t.serviceFee,e.totalFee=t.totalFee,e.couponValue=t.couponValue,T()}).catch(function(t){T(),b(t)})},watch:{},methods:{pay:function(){var t,e=this;C(),(t={orderNo:this.orderNo},R({url:"prepay",method:"post",params:t})).then(function(t){var n,a,i,s,o,r,c,u,l;(T(),"UrlRedirect"!=t.payType)?"PayResult"!=t.payType?"JsPay"==t.payType&&(n=t.payData,a=function(t){window.location.href="http://hjtc.oywanhao.com/carpay/paySuccess?code=0&carNo="+e.carNO+"&fee="+e.totalFee+"&stayTime="+e.stayTime},i=function(t){window.location.href="http://hjtc.oywanhao.com/carpay/paySuccess?code=1&carNo="+e.carNO+"&fee="+e.totalFee+"&stayTime="+e.stayTime},s=n.appId,o=n.timeStamp,r=n.nonceStr,c=n.package,u=n.signType,l=n.paySign,n.payOrderId,WeixinJSBridge.invoke("getBrandWCPayRequest",{appId:s,timeStamp:o,nonceStr:r,package:c,signType:u,paySign:l},function(t){"get_brand_wcpay_request:ok"===t.err_msg?a(t):i(t)})):1==t.payReslut?window.location.href="http://hjtc.oywanhao.com/carpay/paySuccess?code=0&carNo="+e.carNO+"&fee="+e.totalFee+"&stayTime="+e.stayTime:window.location.href="http://hjtc.oywanhao.com/carpay/paySuccess?code=1&carNo="+e.carNO+"&fee="+e.totalFee+"&stayTime="+e.stayTime:window.location.href=t.payUrl}).catch(function(t){T(),b(t)})}},computed:{stayTime:function(){return t=this.startTime,e=this.endTime,n=t.replace(/-/g,"/"),a=e.replace(/-/g,"/"),i=new Date(a).getTime()-new Date(n).getTime(),s=Math.floor(i/864e5),o=Math.floor(i%36e5/6e4),r=Math.floor(i%864e5/36e5),i>6e4?(s>0?s+"天":"")+(r>0?r+"时":"")+(o>0?o+"分":""):"1分钟";var t,e,n,a,i,s,o,r},newStartDate:function(){return this.startTime.replace(/-/g,"/").slice(0,10)||"2018/10/10"},newStartTime:function(){return this.startTime.slice(-8,-3)||"10:10"}}},V={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"main"},[n("div",{staticClass:"content"},[n("content",[n("div",{staticClass:"paytitle"},[n("p",[t._v("欧亚汇集")]),t._v(" "),n("p",[t._v(t._s(t.carNO))])]),t._v(" "),n("div",{staticClass:"details"},[n("ul",[n("li",[t._m(0),t._v(" "),n("p",[t._v(t._s(t.newStartDate))])]),t._v(" "),n("li",[t._m(1),t._v(" "),n("p",[t._v(t._s(t.newStartTime))])]),t._v(" "),n("li",[t._m(2),t._v(" "),n("p",[t._v(t._s(t.stayTime))])])])]),t._v(" "),n("div",{staticClass:"paydate"},[n("p",[n("span",[t._v("需缴费")]),n("span",[t._v("\n          ￥"+t._s(t.totalFee))])]),t._v(" "),n("div",{staticClass:"tingche"},[n("div",[t._v("停车费:"),n("span",[t._v("￥"+t._s(t.serviceFee))])]),t._v(" "),n("div",{staticClass:"vip"},[t._v("\n            会员积分抵扣："),n("span",[t._v("￥"+t._s(t.couponValue||0))])])])]),t._v(" "),n("footer",[n("btn",{attrs:{btnText:"立即支付"},on:{submit:t.pay}})],1)])]),t._v(" "),n("p",[t._v("缴费后请在20分钟内离场，超时将重新计费")])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("span"),e("span",[this._v("入场日期")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("span"),e("span",[this._v("入场时间")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("span"),e("span",[this._v("停车时长")])])}]};var q=n("VU/8")(O,V,!1,function(t){n("9YiN")},"data-v-3fc56d2b",null).exports;var W={components:{btn:I},data:function(){return{details:"成功",detailsYu:"感谢您使用，祝您旅途愉快！",btnText:"确定",minutes:20,code:0,fee:this.$route.query.fee,carNo:this.$route.query.carNo,stayTime:this.$route.query.stayTime}},mounted:function(){var t,e,n;t="a",console.log({a:2}[t]),document.title="车牌缴费",this.code=(e=new RegExp("(^|&)"+"code"+"=([^&]*)(&|$)","i"),null!=(n=window.location.search.substr(1).match(e))?decodeURI(n[2]):null),0!=this.code&&(this.details="失败",this.detailsYu="对您带来的不便，敬请谅解！",this.btnText="重新支付")},methods:{confirm:function(){if(0==this.code){var t=navigator.userAgent.toLowerCase();"micromessenger"==t.match(/MicroMessenger/i)?wx.closeWindow():-1!=t.indexOf("alipay")&&AlipayJSBridge.call("closeWebview")}else this.$router.push({path:"/"})},getCountDown:function(){var t=this,e=window.setInterval(function(){0!=t.minutes&&1==t.seconds?(t.minutes-=1,t.seconds=59):0==t.minutes&&0==t.seconds?(t.seconds=0,window.clearInterval(e)):t.seconds-=1},1e3);this.$once("hooK:beforeDestroy",function(){clearInterval(e)})}},computed:{}},M={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"main"},[n("div",{staticClass:"floor"},[n("p",[n("span",{class:{detailsimg:1==t.code}}),t._v("缴费"+t._s(t.details))]),t._v(" "),n("p",[t._v(t._s(t.detailsYu))])]),t._v(" "),0==t.code?n("div",{staticClass:"fee"},[n("span",[t._v("￥")]),t._v(t._s(t.fee||0))]):t._e(),t._v(" "),0==t.code?n("div",{staticClass:"text"},[n("p",{staticClass:"carno"},[n("span",[t._v("车牌号")]),n("span",[t._v(t._s(t.carNo))])]),t._v(" "),n("p",{staticClass:"time"},[n("span",[t._v("停车时长")]),n("span",[t._v(t._s(t.stayTime))])])]):t._e(),t._v(" "),n("div",{staticClass:"bottom"},[0==t.code?n("p",{staticClass:"date"},[t._v("免费离场时间  "),n("span",[t._v(" "+t._s(t.minutes))]),t._v("分钟")]):t._e()]),t._v(" "),n("footer",[n("btn",{attrs:{btnText:t.btnText},on:{submit:t.confirm}})],1)])},staticRenderFns:[]};var J=n("VU/8")(W,M,!1,function(t){n("Nbj0")},"data-v-32bc9900",null).exports;a.default.use(o.a);var B=new o.a({mode:"history",base:"/carpay/",routes:[{path:"/",name:"carNoInput",component:E},{path:"/PayDetails",name:"PayDetails",component:q},{path:"/PaySuccess",name:"PaySuccess",component:J}]}),K=(n("d8/S"),n("v5o6"));n.n(K).a.attach(document.body),a.default.use(w.a),a.default.config.productionTip=!1,new a.default({el:"#app",router:B,components:{App:s},template:"<App/>"})},Nbj0:function(t,e){},"d8/S":function(t,e){},nqe1:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.797388ffff9452b843eb.js.map